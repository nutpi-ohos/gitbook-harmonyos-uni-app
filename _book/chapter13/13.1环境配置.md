​      If needed, configure the signingConfigs in /Users/jianguo/Desktop/gitbook/gitbook_flutter/demo1/ohos/build-profile.json5.







flutter build hap --debug



报错如何解决



\> hvigor Finished :entry:default@CompileArkTS... after 6 s 909 ms 

\> hvigor Finished :entry:default@GeneratePkgModuleJson... after 1 ms 

\> hvigor Finished :entry:default@PackageHap... after 504 ms 

\> hvigor WARN: Will skip sign 'hos_hap'. No signingConfigs profile is configured in current project.

​       If needed, configure the signingConfigs in /Users/jianguo/Desktop/gitbook/gitbook_flutter/demo1/ohos/build-profile.json5.





\> hvigor Finished :entry:default@SignHap... after 1 ms 

\> hvigor Finished :entry:assembleHap... after 1 ms 

\> hvigor BUILD SUCCESSFUL in 8 s 739 ms 

hvigorw assembleHap --no-daemon invoke success.

请通过DevEco Studio打开ohos工程后配置调试签名(File -> Project Structure -> Signing Configs 勾选Automatically generate signature)

jianguo@jianguodeMacBook-Pro-2 demo1 % 





![image-20241031173142703](https://luckly007.oss-cn-beijing.aliyuncs.com/uPic/image-20241031173142703.png)





## 鸿蒙真机运行Flutter项目

- 通过`flutter devices`指令发现真机设备之后，获取device-id

方式一：进入项目目录指定构建方式编译hap包并安装到鸿蒙手机中

```
 flutter run --debug -d <deviceId>
```



```
jianguo@jianguodeMacBook-Pro-2 demo1 % flutter devices
4 connected devices:

127.0.0.1:5555 (mobile)   • 127.0.0.1:5555   • ohos-arm64     • Ohos OpenHarmony-5.0.1.73 (API 13)
9CN0223901000559 (mobile) • 9CN0223901000559 • ohos-arm64     • Ohos OpenHarmony-5.0.1.73 (API 13)
macOS (desktop)           • macos            • darwin-arm64   • macOS 13.4.1 22F82 darwin-arm64
Chrome (web)              • chrome           • web-javascript • Google Chrome 130.0.6723.71
```





```
 flutter run --debug -d 9CN0223901000559 
```

方式二：进入工程根目录编译hap包,然后安装到鸿蒙手机中

```
 flutter build hap --debug
 hdc -t <deviceId> install <hap file path>
```





###  pub upgrade常见问题

#### pub upgrade耗时较长

情况1：首次加载因为需要拉取的文件较多，根据自身网络情况所需花费的时间有较大差异，请耐心等待,如果下载失败，建议检查网络连接或更换代理后再次尝试。

情况2：删除flutter_flutter/bin/cache文件后重试。

情况3：更换镜像源。如： PUB_HOSTED_URL=[https://mirrors.tuna.tsinghua.edu.cn/dart-pub](https://gitee.com/link?target=https%3A%2F%2Fmirrors.tuna.tsinghua.edu.cn%2Fdart-pub) FLUTTER_STORAGE_BASE_URL=[https://mirrors.tuna.tsinghua.edu.cn/flutter](https://gitee.com/link?target=https%3A%2F%2Fmirrors.tuna.tsinghua.edu.cn%2Fflutter)

